jQuery(document).ready(function(l){"use strict";l("form.contactForm").submit(function(){var e,a=l(this).find(".form-group"),n=!1,i=/^[^\s()<>@,;:\/]+@\w[\w\.-]+\.[a-z]{2,}$/i;return a.children("input").each(function(){var e=l(this),a=e.attr("data-rule");if(void 0!==a){var t,s=!1,r=a.indexOf(":",0);switch(0<=r?(t=a.substr(r+1,a.length),a=a.substr(0,r)):a=a.substr(r+1,a.length),a){case"required":""===e.val()&&(n=s=!0);break;case"minlen":e.val().length<parseInt(t)&&(n=s=!0);break;case"email":i.test(e.val())||(n=s=!0);break;case"checked":e.attr("checked")||(n=s=!0);break;case"regexp":(t=new RegExp(t)).test(e.val())||(n=s=!0)}e.next(".validation").html(s?void 0!==e.attr("data-msg")?e.attr("data-msg"):"wrong Input":"").show("blind")}}),a.children("textarea").each(function(){var e=l(this),a=e.attr("data-rule");if(void 0!==a){var t,s=!1,r=a.indexOf(":",0);switch(0<=r?(t=a.substr(r+1,a.length),a=a.substr(0,r)):a=a.substr(r+1,a.length),a){case"required":""===e.val()&&(n=s=!0);break;case"minlen":e.val().length<parseInt(t)&&(n=s=!0)}e.next(".validation").html(s?null!=e.attr("data-msg")?e.attr("data-msg"):"wrong Input":"").show("blind")}}),n||(e=l(this).serialize(),l.ajax({type:"POST",url:window.location.origin+"/enquiry",data:e,success:function(e){"OK"==e?(l("#sendmessage").addClass("show"),l("#errormessage").removeClass("show"),l(".contactForm").find("input, textarea").val("")):(l("#sendmessage").removeClass("show"),l("#errormessage").addClass("show"),l("#errormessage").html(e+", 邮件发送不成功，请自行发送邮件！"))}})),!1})});
